# Core
NODE_ENV=development
PORT=3003
LOG_LEVEL=info
METRICS_ENABLED=true

# MongoDB
MONGODB_URI=mongodb://localhost:27017
MONGODB_DB_NAME=notifications_db

# NATS
NATS_URL=nats://localhost:4222
NATS_JETSTREAM_ENABLED=false
NATS_SUBJECTS=orders.created,orders.paid,orders.canceled,delivery.assigned,delivery.status.updated,delivery.completed,rental.started,rental.renewed,rental.ended
NATS_QUEUE_GROUP=notification-service-workers

# SMTP (SendGrid)
SMTP_HOST=smtp.sendgrid.net
SMTP_PORT=587
SMTP_USER=apikey
SMTP_PASS=your-sendgrid-api-key
EMAIL_FROM=notifications@clickdelivery.com.br

# Firebase Cloud Messaging
FCM_SERVER_KEY=your-fcm-server-key
FCM_PROJECT_ID=your-firebase-project-id
FCM_CLIENT_EMAIL=your-firebase-client-email
FCM_PRIVATE_KEY=your-firebase-private-key

# Twilio
TWILIO_ACCOUNT_SID=your-twilio-account-sid
TWILIO_AUTH_TOKEN=your-twilio-auth-token
TWILIO_FROM=+5511999999999

# OPA (Open Policy Agent)
OPA_URL=http://localhost:8181
OPA_POLICY_PATH=/v1/data/notifications/allow
OPA_FAIL_OPEN=true

# Auth
AUTH_JWT_ISSUER=https://auth.clickdelivery.com.br
AUTH_JWT_AUDIENCE=notification-service
AUTH_JWKS_URI=https://auth.clickdelivery.com.br/.well-known/jwks.json
AUTH_JWT_SECRET=your-jwt-secret-for-dev
AUTH_JWT_REQUIRED=true

# mTLS
MTLS_ENABLED=false
MTLS_CA_CERT_PATH=/path/to/ca.crt
MTLS_CERT_PATH=/path/to/client.crt
MTLS_KEY_PATH=/path/to/client.key

# Policy
NOTIF_MAX_ATTEMPTS_PER_CHANNEL=3
NOTIF_BACKOFF_SEQUENCE=5s,25s,120s,10m,30m,2h,6h,24h
NOTIF_DEDUP_WINDOW_SEC=600
RETENTION_DAYS=90

# Feature flags
FEATURE_PREFERENCES=true
FEATURE_WHATSAPP=false

# Seed
SEED_TEMPLATES=true

# Provider Mock Mode (for testing without real providers)
MOCK_PROVIDERS=false
